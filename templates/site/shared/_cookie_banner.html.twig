<div {{ stimulus_controller('cookie') }} class="flex items-center justify-center relative">

    {# Cookie Banner #}
    <section class="w-full p-5 mt-8 bg-slate-200 duration-100 rounded hover:shadow z-50" {{ stimulus_target('cookie', 'banner') }}>
        <div class="md:flex items-center">
            <div class="md:flex-1 text-center md:text-left text-xs">
                By accepting cookies, you consent to downloading and installing an OpenRoaming profile for your device
                as part of the WBA OpenRoaming program.
            </div>
            <div class="mt-3 md:mt-0 flex justify-center md:justify-end space-x-3">
                <button class="py-1 px-2 btn-secondary text-sm" data-action="cookie#showModal">Cookie Settings</button>
                <button class="py-1 px-2 btn-primary text-sm" data-action="cookie#acceptCookies">Accept Cookies</button>
            </div>
        </div>
    </section>

    {# Cookie Preferences Modal #}
    <div class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" {{ stimulus_target('cookie', 'modalCookie') }}>
        <div class="bg-white w-11/12 md:w-1/2 rounded shadow p-6 space-y-4">
            <div class="flex justify-between items-center border-b pb-3">
                <h2 class="text-lg font-bold">Cookie Settings</h2>
                <button class="text-gray-400 hover:text-gray-800" data-action="cookie#closeModal">
                    <twig:ux:icon name="wba:cross" fill="none"/>
                </button>
            </div>
            <div {{ stimulus_target('cookie', 'consentForm') }}>
                <div class="flex flex-col mx-4 space-y-4">

                    {# Functional Cookies #}
                    <div class="flex items-center justify-between">
                        <span>Cookies that remember your settings</span>
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" data-scope="functional">
                            <div class="ms-2 relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-bg-lightGreen rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#68D391]"></div>
                        </label>
                    </div>

                    {# Analytics Cookies #}
                    <div class="flex items-center justify-between">
                        <span>Cookies that measure website use</span>
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" data-scope="analytics">
                            <div class="ms-2 relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-bg-lightGreen rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#68D391]"></div>
                        </label>
                    </div>

                    {# Marketing Cookies #}
                    <div class="flex items-center justify-between">
                        <span>Cookies for communications and marketing</span>
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" data-scope="marketing">
                            <div class="ms-2 relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-bg-lightGreen rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#68D391]"></div>
                        </label>
                    </div>

                </div>

                <div class="p-2 mt-4 flex flex-row justify-between">
                    <div class="mt-8">
                        Your data is safe with us. Learn more in our
                        <a href="{{ data.PRIVACY_POLICY_LINK.value }}" target="_blank"
                           class="underline text-primary font-semibold">Privacy Policy</a>.
                    </div>
                    <div class="mt-4">
                        <button class="flex justify-center items-center p-2 py-2 px-6 btn-primary"
                                data-action="cookie#savePreferences">Apply Cookies
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
