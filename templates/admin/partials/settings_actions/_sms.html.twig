<form action="#" method="post" enctype="multipart/form-data">
    {{ form_row(form._token) }}
    <div class="grid gap-4 lg:grid-cols-2 xl:grid-cols-3 p-2 z-0">
        {% for setting in form %}
            {# Display only the capport settings #}
            {% if setting.vars.name in ['SMS_USERNAME', 'SMS_USER_ID', 'SMS_HANDLE', 'SMS_FROM', 'SMS_TIMER_RESEND'] %}
                <div class="transition hover:-translate-y-1 hover:shadow bg-white rounded-md p-6 w-full"
                     {{ stimulus_controller('card') }}>
                    {# Title and Icon #}
                    <div class="flex flex-row justify-between">
                        <div class="text-base font-medium text-center break-normal md:break-all">
                            {% set displayName = {
                                'SMS_USERNAME': 'Username',
                                'SMS_USER_ID': 'User Id',
                                'SMS_HANDLE': 'Handle',
                                'SMS_FROM': 'From',
                                'SMS_TIMER_RESEND' : 'Time to Resend'
                            }[setting.vars.name] ?? setting.vars.name %}
                            <h1 class="text-base md:text-lg whitespace-nowrap">{{ displayName }}</h1>
                        </div>
                        <label class="flex items-center bg-opacity-40">
                            <img class="w-6 cursor-pointer" {{ stimulus_target('card', 'button') }} {{ stimulus_action('card', 'show_info','mouseover')|stimulus_action('card', 'hide_info','mouseout') }}
                                 src="{{ asset('resources/logos/info_icon.svg') }}"
                                 alt="info_icon"/>
                        </label>
                    </div>
                    {% if setting.vars.name in ['SMS_USERNAME', 'SMS_USER_ID', 'SMS_HANDLE', 'SMS_TIMER_RESEND'] %}
                        <div class="flex items-center space-x-2 mt-5">
                            {{ form_widget(setting, {'attr': {'class': 'form-widget'}}) }}
                        </div>
                    {% endif %}

                    {% if setting.vars.name in ['SMS_FROM'] %}
                        <div class="flex items-center space-x-2 mt-5">
                            {{ form_widget(setting, {'attr': {'class': 'form-widget', 'maxlength': 15}}) }}
                        </div>
                    {% endif %}

                    {# Description Setting #}
                    <div class="flex justify-center items-center">
                        <div class="bg-indigo-400 rounded-lg p-2 m-2 w-3/4 text-center text-white transition transform -translate-y-6 ease-in-out duration-300 absolute hidden"
                                {{ stimulus_target('card', 'info') }}>
                            {{ setting.vars.attr.description }}
                        </div>
                    </div>

                    <div class="mt-2 -mb-2 text-center text-red-500 text-base">
                        {{ form_errors(setting) }}
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
    <div class="mt-2 mr-2 p-2 z-0 text-base font-semibold w-full lg:w-3/4">
        <div class="flex bg-infoBgColor/50 rounded-lg p-4 mb-4 text-xs md:text-sm text-infoTextColor" role="alert">
            <svg class="w-10 md:w-5 h-10 md:h-5 inline mr-3" fill="currentColor" viewBox="0 0 20 20"
                 xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                      d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012-0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z"
                      clip-rule="evenodd"></path>
            </svg>
            <div>
                <span class="font-medium">This is for the
                    <a class="font-semibold underline"
                       href="https://www.budgetsms.net/"
                       target="_blank">BudgetSMS.net</a>
                    provider, you should create and fund an account with them.</span>
            </div>

        </div>
    </div>

    <div class="mt-8 divider-solid"></div>

    <div class="mt-6 flex flex-row w-full justify-end items-center gap-2">
        <a href="{{ path('app_dashboard_regenerate_code_admin', {'type': 'settingSMS'}) }}"
           onclick="return confirm('Are you sure you want to clear this settings?')"
           class="text-sm hover:text-red-600 font-bold p-2 rounded-lg transition ease-in duration-300">
            Clear
        </a>

        <button type="submit" class="btn-primary"
                onclick="return confirm('Are you sure you want to apply this new changes?')">Save Changes
        </button>
    </div>
</form>
