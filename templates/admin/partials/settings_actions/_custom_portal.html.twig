<form action="{{ path('admin_dashboard_customize') }}" method="post" enctype="multipart/form-data">
    {{ form_row(form._token) }}
    <div class="grid gap-4 lg:grid-cols-2 xl:grid-cols-3 p-2 z-0">
        {% for setting in form %}
            {# Display only the customization settings #}
            {% if setting.vars.name in ['CUSTOMER_LOGO', 'OPENROAMING_LOGO', 'WALLPAPER_IMAGE', 'PAGE_TITLE', 'WELCOME_TEXT', 'WELCOME_DESCRIPTION'] %}
                <div class="transition hover:-translate-y-1 hover:shadow bg-white rounded-md p-6 w-full"
                     name="customCards">
                    {# Title and Icon #}
                    <div class="flex flex-row justify-between m-2 p-2">
                        <div class="text-base font-medium text-center break-normal md:break-all">
                            {% set displayName = {
                                'CUSTOMER_LOGO': 'Customer Logo',
                                'OPENROAMING_LOGO': 'OpenRoaming Logo',
                                'WALLPAPER_IMAGE': 'Wallpaper Image',
                                'PAGE_TITLE': 'Page Title',
                                'WELCOME_TEXT': 'Welcome Text',
                                'WELCOME_DESCRIPTION': 'Welcome Description'
                            }[setting.vars.name] ?? setting.vars.name %}
                            <h1 class="text-lg md:text-xl">{{ displayName }}</h1>
                        </div>
                        <label class="flex items-center bg-opacity-40"
                        >
                            <img class="w-6 cursor-pointer"
                                 name="descriptionIcon"
                                 src="{{ asset('resources/logos/info_icon.svg') }}"
                                 alt="info_icon"/>
                        </label>
                    </div>
                    {% if setting.vars.name in ['CUSTOMER_LOGO', 'OPENROAMING_LOGO', 'WALLPAPER_IMAGE'] %}
                        <div class="image-container flex flex-row justify-center items-center space-x-20 space-y-2 mt-5">
                            {# Image Path #}
                            {% set imagePaths = {
                                'CUSTOMER_LOGO': asset(data.customerLogoName.value),
                                'OPENROAMING_LOGO': asset(data.openroamingLogoName.value),
                                'WALLPAPER_IMAGE': asset(data.wallpaperImageName.value)
                            } %}
                            <img data-image-preview src="{{ imagePaths[setting.vars.name] ?? '' }}"
                                 alt="CustomizationImages" class="w-24 h-24 shadow rounded-full object-cover">

                            {# Button Upload #}
                            <label class="flex justify-center items-center bg-lightGray rounded-lg text-center text-gray-500 p-3 relative z-0 cursor-pointer"
                                   data-image-input>
                                {{ form_widget(setting, {'attr': {'class': 'w-full h-full opacity-0 absolute top-0 left-0 '}}) }}
                                <div class="w-28 h-12 rounded-lg bg-lightGray flex flex-col justify-center items-center space-y-2 cursor-pointer font-semibold">
                                    <svg class="w-5" fill="none" stroke="currentColor" stroke-width="3"
                                         viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                              d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"></path>
                                    </svg>
                                    <h1 class="text-center whitespace-nowrap">Upload Image</h1>
                                </div>
                            </label>
                        </div>
                    {% else %}
                        <div class="flex items-center space-x-2 mt-5">
                            {{ form_widget(setting, {'attr': {'class': 'p-2 bg-transparent border outline-none text-left text-base block w-full rounded-md  focus:shadow-sm'}}) }}
                        </div>
                    {% endif %}

                    {# Description Setting #}
                    <div class="flex justify-center items-center">
                        <div class="bg-indigo-400 rounded-lg p-2 m-2 w-3/4 text-center text-white transition transform -translate-y-6 ease-in-out duration-300 absolute hidden"
                             name="description">
                            {{ setting.vars.attr.description }}
                        </div>
                    </div>
                    <div class="mt-2 -mb-2 text-center text-red-500 text-base">
                        {{ form_errors(setting) }}
                    </div>
                </div>

            {% endif %}
        {% endfor %}
    </div>
    <hr class="mt-8 w-full h-0.5 bg-gray-300/50 border-0 border-gray-300/50 rounded">
    <div class="mt-6 flex flex-col md:w-full md:flex-row justify-evenly md:justify-end items-center space-x-0 md:space-x-2 space-y-2 md:space-y-0">
        <a href="{{ path('app_dashboard_regenerate_code_admin', {'type': 'settingCustom'}) }}"
           onclick="return confirm('Are you sure you want to reset to the default settings?')"
           class="text-sm hover:text-red-600 font-bold p-2 rounded-lg transition ease-in duration-300">
            Reset
        </a>

        <button class="text-sm hover:bg-veryDarkButton hover:text-white font-bold p-3 rounded-lg transition ease-in duration-300"
                onclick="return confirm('Are you sure you want to apply this new changes?')"
                type="submit">Save Changes
        </button>
    </div>
</form>
