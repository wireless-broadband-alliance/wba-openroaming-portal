<tr>
    {# Name #}
    <td class="px-12 py-4 font-medium">
        {{ samlProvider.name }}
    </td>

    {# IDP Entity ID #}
    <td class="px-4 py-4 -ml-4">
        {% if samlProvider.idpEntityId %}
            {{ samlProvider.idpEntityId }}
        {% else %}
            <span class="font-semibold p-1 pill-error">No Information</span>
        {% endif %}
    </td>

    {# IDP SSO URL #}
    <td class="px-4 py-4 text-left break-all">
        {% if samlProvider.idpSsoUrl %}
            {{ samlProvider.idpSsoUrl }}
        {% else %}
            <span class="font-semibold p-1 pill-error">No URL provided</span>
        {% endif %}
    </td>

    {# Active Status #}
    <td class="px-4 py-4 text-center">
        {% if samlProvider.isActive %}
            <span class="pill-success">Active</span>
        {% else %}
            <span class="pill-error">Inactive</span>
        {% endif %}
    </td>

    {# Created At #}
    <td class="px-6 py-4 font-medium text-center">
        {{ samlProvider.createdAt|date('d/m/Y H:i') }}
    </td>

    {# Updated At #}
    <td class="px-6 py-4 text-center">
        {% if samlProvider.updatedAt == samlProvider.createdAt %}
            <span class="pill-error">Never Updated</span>
        {% else %}
            {{ samlProvider.updatedAt|date('d/m/Y H:i') }}
        {% endif %}
    </td>

    {# Actions Dropdown #}
    <td class="px-10 py-4 text-right relative">
        {# Dropdown Button #}
        <button type="button"
                class="cursor-pointer p-2 rounded-lg hover:shadow duration-300 focus:outline-none focus:ring-2 focus:ring-lightGreen"
                {{ stimulus_controller('nav-submenu') }}
                {{ stimulus_action('nav-submenu', 'toggle')|stimulus_action('nav-submenu', 'lost_focus', 'focusout') }}
                {{ stimulus_target('nav-submenu', 'button') }}>
            <twig:ux:icon name="wba:menu-dots" class="w-5 h-5"/>
        </button>

        {# Dropdown Items #}
        <div class="hidden bg-white divide-y divide-gray-100 rounded-lg shadow min-w-max absolute right-0 mt-2 z-50"
                {{ stimulus_target('nav-submenu', 'container') }}>
            <ul class="p-2 text-gray-700 space-y-2">
                {# Edit Link #}
                <li>
                    <a href="#" {# Replace with path('saml_provider_edit', { id: samlProvider.id }) #}
                       class="flex items-center px-4 py-2 text-sm font-medium hover:bg-lightGreen/10 hover:text-lightGreen rounded">
                        <twig:ux:icon name="wba:pencil-edit" class="w-5 mr-2" fill="none"/>
                        Edit
                    </a>
                </li>

                {# Delete Action #}
                <li {{ stimulus_controller('alert') }}>
                    <form action="#" {# Replace with path('saml_provider_delete', { id: samlProvider.id }) #}
                          method="post" {{ stimulus_target('alert', 'form') }}>
                        <input type="hidden" name="_method" value="DELETE">
                        <button type="submit"
                                onclick="return confirm('Are you sure you want to delete this item?')"
                                class="flex items-center px-4 py-2 text-sm font-medium hover:bg-red-100 hover:text-red-600 rounded w-full text-left">
                            <twig:ux:icon name="wba:trash" class="w-5 mr-2" fill="none"/>
                            Delete
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </td>
</tr>
